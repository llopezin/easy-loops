{"version":3,"sources":["helpers/helpers.js","view/visuals.js","controllers/get-beat.js","models/sound.model.js","models/beat.model.js","controllers/timer.js","controllers/keyboard-controllers.js","controllers/get-template.js","models/song.model.js","view/instrument-buttons.js","view/buttons.js","view/pads.js","index.js"],"names":["toArray","list","slice","call","qsa","query","document","querySelectorAll","qs","querySelector","store","key","item","localStorage","setItem","addColorToColumn","num","removePreviousColor","pads","filter","pad","dataset","beat","forEach","classList","add","current","remove","getBeat","urls","map","parentElement","url","Sound","src","sound","Audio","play","pause","Beat","sounds","length","stop","state","interval","running","timer","action","runInterval","clearInterval","setInterval","updateCounter","addKeyboardControl","window","addEventListener","event","code","activeElement","blur","console","log","getTemplate","beats","template","beatNum","beatUrl","push","Song","undefined","addEventsToInstrumentButtons","instrumentButtons","button","storeTemplate","song","JSON","stringify","addControllerEvents","addEvent","stopTimer","startTimer","clearPads","btnName","cb","btn","addEventToKeys","addClassOnClick","keys","toggle","init"],"mappings":";;AYAA;;AACA;;;AVDA,AKAA,ADAA,ADAA,ADAA,AIAA,AEAA,ADAA,AEAA,AVAA;AWGA,SAASwF,IAAT,GAAgB;AVDD,AKAA,AFDf,AOGE,AFHF,ADAA,AECe,AVAA,SCAS5D,AKAAiC,AIAAuB,AVAArE,OCAT,CAAiBC,GAAjB,AKAA,ELAsB,CKAC,AIAvB,EVAA,CUA0B,AVAAA,GAA1B,EAA+B;ACC5C,AKAA,APHF,AYKE,ADFAqE,AVAApE,EUAAoE,AVAApE,ICAIC,AKAA4C,GPHG9D,CEGC,CKAC,ELAE,CKAC,EPHd,CAAiBC,AWGA,IXHjB,ACGqB,EDHE,SOGL,YAAJ,CAAZ,YLAkCe,GAAvB,aAAX;AAEA,AKAA,ADHa,ADAf,ALDE,AYKD,AFJD,ADAA,AEEC,AVAC,MCCIa,AKAAkC,ANDA7C,GKFkBkC,ANDf,CEIC,ADDA,EDHElD,CEICgB,ADDA,CMCC,GLAG,AKAA,APJR,CEISY,AFJA3B,COIhB,ELAW,CAAS,AFJb,CAAcF,IMCR,ANDN,CAAP,EMC2C,CLE5B,CCCMmB,GAAD,EAAS,CDDlB,EAAaD,MAAb,CAAoB,UAACC,GAAD,EAAS;ACEtC,AKCF0C,ADJAT,ANDD,ACGG,EMEFS,ADJAT,KCIK,CAAC9B,ADJA,CAAC+B,EJGElC,ADDAA,GCCG,ADDA,CCCCW,AKCb,ANFaV,CMEC,MNFL,CAAYC,EKFrB,CCIeA,ADJS,CLEf,CCCA,CAAkBD,CKCb,EAAU,ILDf,AIHT,CJGmCW,CIHC,EJGlC,EDD+BhB,GAAxB,CAAP,EKFmCuC,KAAD,EAAW;AJI9C,AKCC,ADJA,AMIJiC,AFLA,ACGA,AVAG,GCDU,ADDA,CCCX,AUGE,ATRiBvD,AFInB,IMIM+B,ADJAT,CKEC8B,ILFI,CAAC7B,CCIC,GAAGlC,ADJV,ICIc,CAACD,ADJA,CKEvB,GAA2B,GJET,ADJd,CCI2BC,CDJC,GCI5B;ALCF,AKAE,ADJEhB,ANDN,AGHE,AQMA,AVAAY,EAAAA,IKFIZ,AKEAgF,AVAA,CAAC/D,CMEC0C,CLACpC,AFLAzB,CWGC,EXHV,CEKE,AFLWC,AWGA,CLFC,ALEZ,CMEa,ADJAoD,ALEA,EENDvB,CIQIZ,APLlB,EAAoB,AGHlB,EIQoB,AJRH,CIQIS,ENFPX,GKFV,ALES,CKFcsC,IAAvB,EKEepD,CJEH,CAAmBe,MIFR,CJEX,AIFYd,CJEeyB,GAAzC,YIFiB,CAA0B,IAA1B,CAAR,CAAX;ATGD,AIJK2B,ADFN,ALCE,AGJiB,AMIJ,AEIb2B,AVFa,EUEbA,ENLE3C,ECEEgB,AKGA,CAACpC,ENLE,ALCAvB,ASAeqE,EREAjD,CIHZ,CCEC,CAACwC,AKGZ,AVFyB,CUEZ,AVFapC,CDFZ,CMCV,ANDWlB,CMCC,MLCM,CDFC,AWITK,AVFsBc,CDFZlB,EWIX,AVFS,CAAkB,CUElB,OLHlB,AGDS,CRES,CAAT,CQFwC,ETAtC,CAA0BF,KAA1B,CAAD,CAAd;AOKE,ADHE,ADFJuC,ALCD,ASAC,AEIEjC,AVHW,EIFbiC,CJEA,CUGEjC,EFJE2D,CEIC,CJAC,AIAAhB,CJACS,CFLC,EAAE,EADA,GEMK,CAACC,KEJK,CEInB,CJAa,AIAQ,CJArB,ADHQ,AGDc,EFIE,IIAxB,ELHE,AKG4B,UFJJ,EEIU,iBFJd,CAAxB;AFKID,ADHD,ADFHzC,AFJE,AOGW,ADGbgD,AEGI3D,AVHL,EIFCW,AIEAgD,ELNmB/B,AIAA4B,EDSfJ,AFLA,AMKApD,ENLE,CAFI,AFFHwB,AOGeyC,ACMf,CAACpD,IJAI,AJTV,CISWwC,EJTE,EMME,AEGb,CFHczC,AEGAgE,CRTCnD,CISP,CAAR,GAAoB,AJTT,AQSX,CFHJ,AEGyB,CJArB,AGNS,ADGa,GCHkB,ECMxC,KFHuBmC,MAAD,EAAY,WNNUrC,GAAjC,EAAb;AIUC,ADHF,ADFDW,ALCF,AILE,AIAA,ALAC,AOGDgC,ADGEN,AEGC,ENLH1B,AKDAgC,CJHA,CGMEN,CECA,INHK,ALCA/D,CUFC,ADGA,CJFC,ALCX,AUFW,ADGA8C,CTDCjD,IKJA,ADDEwB,AIAAkC,CRKd,AUFU,EVES,AUFAe,CNHjB,EAAkB,EIAlB,EAAsB,CCMpB,CCHM,ADGkB,CCH1B,MDGE,EAAiC,YAAM;AHC1C,ADFC3C,ALCA,AINkB,AIAI,AEItB0C,ADGIlB,AEGH,AVHH,EIFExB,AKDA0C,CCEA,GFCIlB,CJFC,EAAE,ALCArD,ACCAW,CSHC,CAAC,ELCEsB,AIEA,CAACqB,GTDG,AUFP,ADGJ,CTDYnD,ASCA,CCHCsE,MDGb,GRAN,CSHU,CAAR,CLCO,ALCA,ACCsB,CIFb,ALCc1E,KAAvB,CAAP,gBKDwB,CAAR,CAAT;AEML0D,AFVQ,ALMX,AUFCc,ADGI,AEGL,AVHC,CIPF,CKIEA,EHMEd,ENHErC,ISHI,CAAC,CHMC,CAACsC,ANHA,GAAG,ESHN,EHME,AGNQgB,CHMhB,CAAkBd,IAAlB,AEHQ,CFGeD,EGNjB,CAAR,IHME,ANHgB,EQAd,EAAkBO,MRAR,CAAd,MQAmC,EAA/B;AFIH,AHXC,AIAA,AEKF,ADGG,ARAH9C,EAAAA,CMLA,EEEE,ILLKc,AIAA,APQA,CAACjB,GORKZ,EJAX,CIAA,CPQF,CGRgBkB,AHQA,EORIkC,EJAA,CAACjC,GAAL,CAAS,CIAvB,APQeJ,EORa,KPQd,EGRUM,GAAD,EAAS;AGalC,AFNa,ALCf,AIPM,AIAA,AEKJ,ADGC,ARDe,GQJhB,MFSO+B,AFNejB,ALCfpC,EQPEC,APOoBe,EGPlB,CCME,ALCf,AQPM,CHMwBqB,ALCfpC,EOKb,AHZesB,CJOjB,AQPkB8B,APOoB,CAACvC,CDAnBZ,CKDL,EAAuB,CLCtC,EAA0B,AQPA,CAACD,ALAlB,CFOsB,CAAkBgB,COPvB,CAAR,CAAcG,GAAd,APOa,CGPlB,AIAuB,APOoB,CGPjCE,GAAV,CAAP,IHOyB,COPMA,APOnB,GOPkB,EAAS;ADa5C,AFNC,ALCAnB,AIPG,AIAG,ALAJ,AOKH,ADGA,ARFiB,EDChBA,CCDA,EGRgB,CAAd,ICQMkC,CFNDZ,GHOK,CAACrB,AQPA,CHMb,AFNE,CAAWuB,EKAIJ,ELAf,CHOF,CAAqBtB,GAArB,EAA0BC,IAA1B,MQPa,CAAUoB,GAAV,CAAP;AHOJ,ALCH,AIPE,AIAI,ALAJ,AFMF,OORiB,CAAZ,CHQG,MAAL;AACEU,AGND,AEKL,ADGA,MJFMA,GKDGoC,ADGAN,CJFC,QKDV,GAAqB,CDGrB,GAAyB;AJDnB,AGNH,AEKD,ADGA,MAAIC,IAAI,GAAG,SCHL,MAAN,YDGA;ACFD,ADGCd,EAAAA,OAAO,CAACC,GAAR,CAAY,IAAIO,SNVT,SMUK,CAAS,2BAAT,CAAZ;AJFE,AFPA,AMUFR,EAAAA,OJHO,AIGA,CAACC,CNVDzB,EMUP,CAAYuC,EJHV,AFPA,CAAWpC,CMUG,CAACqC,GNVf,KCAK,CKUK,CAAeF,IAAf,CAAZ;AJFInC,ADPF,ADAD,AOOH,ADGE,MJHIA,GKAGyC,ADGAL,CLVD,CCOG,EIGE,CAACC,CLVDnC,IMOb,ENPQ,CAAYC,AMOE,CDGb,CAAegC,ILVhB,AKUC,CAAP,ILV6B,CAA3B,EAA8B;ACQ5B,ADPF,AMOF,ADGD,WLVQjC,MAAL,CAAYjB,IMOR,GNPJ,CAAoB,CMOtB,EFPSD,MAAM,CJAQa,KAAD,EAAW;AAC7BA,AIAF,AEOH,QNPKA,EIAE,GJAG,CAACO,CIACpB,GJAP,CIAE,MAAe8C,SAAnB,EAA8B;AHO9B,ADNEjC,AIAF,QJAEA,CCMG,EGNAb,EJAE,CCMP,ADNQe,CIAR,EAAWd,CJAT,MIAF,CAAmB,UAACY,KAAD,EAAW;AHO5Ba,ADND,AIACb,AEON,MLDMa,CDTF,CIGEb,CEOG6C,IFPE,CAACtC,GHMK,CGNX,AEON,GAAqB;ALAf,ADNH,AIAGP,AEOJ2C,EAAAA,MFPI3C,GEOK,EFPA,CAACE,IAAN;AACD,AEOH,OFVE,aEUE,OAAJ,EAAad,OAAb,CAAqB,UAACH,GAAD,EAAS;ALD5B,AGLD,AEOCA,IAAAA,GAAG,CAACI,CLFC,QAAL,AKEA,CAAcG,MAAd,CAAqB,MAArB;ALDEgB,AKEH,GAFD,GLAIA,KAAK,CAACE,OAAN,GAAgBP,KAAK,EAArB,GAA0BU,WAAW,EAArC;AAXJ,AKcD;ALDA;AKGD,SAAS6B,QAAT,CAAkBI,OAAlB,EAA2BC,EAA3B,EAA+B;ALD/B,AKEE,MAAIC,GLFG7C,AKEA,GAAG,ELFZ,GAAiB,uBKEE2C,OAAP,SAAV;ALDAhC,AKEAkC,ELFAlC,AKEAkC,GAAG,CAAC7B,SLFS,CAACX,KAAK,CAACC,AKEpB,CAAqB,OLFR,AKEb,CLFA,CKE8B,YAAM;ALDpCD,AKEEuC,ELFFvC,EKEEuC,EAAE,CLFC,CAACrC,OAAN,GAAgB,KAAhB;AACD,AKEE,GAFD;AAGD;ALDD,SAASH,IAAT,GAAgB;AACdC,EAAAA,KAAK,CAACrB,IAAN,GAAa,CAAb;AACA,wBAAiB,CAAjB;AACA2B,EAAAA,aAAa,CAACN,KAAK,CAACC,QAAP,CAAb;AACAD,EAAAA,KAAK,CAACE,OAAN,GAAgB,KAAhB;AACA;AACD;;AAED,SAASG,WAAT,GAAuB;AACrB,MAAIL,KAAK,CAACE,OAAN,KAAkB,IAAtB,EAA4B;AAC5BF,EAAAA,KAAK,CAACC,QAAN,GAAiBM,WAAW,CAAC,YAAM;AACjC,QAAI5B,IAAI,GAAG,IAAIiB,kBAAJ,CAAS,sBAAQI,KAAK,CAACrB,IAAd,CAAT,CAAX;AACA,0BAAiBqB,KAAK,CAACrB,IAAvB;AACAA,IAAAA,IAAI,CAACe,IAAL;AACAc,IAAAA,aAAa;AACd,GAL2B,EAKzB,GALyB,CAA5B;AAMAR,EAAAA,KAAK,CAACE,OAAN,GAAgB,IAAhB;AACD;;AAED,SAASM,aAAT,GAAyB;AACvB,MAAIR,KAAK,CAACrB,IAAN,KAAe,EAAnB,EAAuBqB,KAAK,CAACrB,IAAN,GAAa,CAAb;AACvBqB,EAAAA,KAAK,CAACrB,IAAN;AACD","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["function toArray(list) {\r\n  return [].slice.call(list);\r\n}\r\n\r\nfunction qsa(query) {\r\n  return toArray(document.querySelectorAll(query));\r\n}\r\n\r\nfunction qs(query) {\r\n  return document.querySelector(query);\r\n}\r\n\r\nfunction store(key, item) {\r\n  localStorage.setItem(key, item);\r\n}\r\n\r\nexport { toArray, qsa, qs, store };\r\n","import { qsa } from \"../helpers/helpers.js\";\r\n\r\nexport default function addColorToColumn(num) {\r\n  removePreviousColor();\r\n  let pads = qsa(\".beat\").filter((pad) => {\r\n    return pad.dataset.beat === `${num}`;\r\n  });\r\n  pads.forEach((pad) => pad.classList.add(\"current\"));\r\n}\r\n\r\nfunction removePreviousColor() {\r\n  let current = qsa(\".current\");\r\n  current.forEach((current) => current.classList.remove(\"current\"));\r\n}\r\n","import { qsa } from \"../helpers/helpers.js\";\r\n\r\nexport default function getBeat(num) {\r\n  let pads = qsa(`td[data-beat = '${num}'].play`);\r\n\r\n  let urls = pads.map((pad) => {\r\n    return pad.parentElement.dataset.url;\r\n  });\r\n\r\n  return urls;\r\n}\r\n","export default class Sound {\r\n  constructor(src) {\r\n    this.sound = new Audio(`/assets/sound-files/${src}`);\r\n  }\r\n\r\n  play() {\r\n    this.sound.play();\r\n  }\r\n  stop() {\r\n    this.sound.pause();\r\n  }\r\n}\r\n","import Sound from \"./sound.model.js\";\r\n\r\nexport default class Beat {\r\n  constructor(urls) {\r\n    this.sounds = urls.map((url) => {\r\n      return new Sound(url);\r\n    });\r\n  }\r\n\r\n  play() {\r\n    if (this.sounds.length === 0) return;\r\n    this.sounds.forEach((sound) => {\r\n      sound.stop();\r\n      sound.play();\r\n    });\r\n  }\r\n}\r\n","import addColorToColumn from \"../view/visuals.js\";\r\nimport getBeat from \"./get-beat.js\";\r\nimport Beat from \"../models/beat.model.js\";\r\n\r\nlet state = {\r\n  interval: \"\",\r\n  beat: 1,\r\n  running: false,\r\n  sound: new Beat(getBeat(1)),\r\n};\r\n\r\nexport default function timer(action) {\r\n  switch (action) {\r\n    case \"stop\":\r\n      stop();\r\n      break;\r\n    case \"pause\":\r\n      pause();\r\n      break;\r\n    case \"run\":\r\n      runInterval();\r\n      break;\r\n    case \"toggle\":\r\n      state.running ? pause() : runInterval();\r\n  }\r\n}\r\n\r\nfunction pause() {\r\n  clearInterval(state.interval);\r\n  state.running = false;\r\n}\r\n\r\nfunction stop() {\r\n  state.beat = 1;\r\n  addColorToColumn(1);\r\n  clearInterval(state.interval);\r\n  state.running = false;\r\n  return;\r\n}\r\n\r\nfunction runInterval() {\r\n  if (state.running === true) return;\r\n  state.interval = setInterval(() => {\r\n    let beat = new Beat(getBeat(state.beat));\r\n    addColorToColumn(state.beat);\r\n    beat.play();\r\n    updateCounter();\r\n  }, 200);\r\n  state.running = true;\r\n}\r\n\r\nfunction updateCounter() {\r\n  if (state.beat === 16) state.beat = 0;\r\n  state.beat++;\r\n}\r\n","import timer from \"./timer.js\";\r\n\r\nexport default function addKeyboardControl() {\r\n  window.addEventListener(\"keypress\", (event) => {\r\n    if (event.code === \"Space\") {\r\n      document.activeElement.blur();\r\n      console.log(\"space bar pressed\");\r\n      timer(\"toggle\");\r\n    }\r\n  });\r\n}\r\n","import { qsa } from \"../helpers/helpers.js\";\r\n\r\nexport default function getTemplate() {\r\n  let beats = qsa(\".beat.play\");\r\n\r\n  let template = {};\r\n\r\n  beats.forEach((beat) => {\r\n    let beatNum = beat.dataset.beat;\r\n    let beatUrl = beat.parentElement.dataset.url;\r\n    if (!template[beatNum]) {\r\n      template[beatNum] = [];\r\n    }\r\n\r\n    template[beatNum].push(beatUrl);\r\n  });\r\n\r\n  return template;\r\n}\r\n","import Sound from \"./sound.model.js\";\r\n\r\nexport default class Song {\r\n  constructor(template) {\r\n    for (const key in template) {\r\n      this[key] = template[key].map((url) => {\r\n        return new Sound(url);\r\n      });\r\n    }\r\n  }\r\n\r\n  playBeat(beat) {\r\n    if (this[beat] === undefined) return;\r\n    this[beat].forEach((sound) => {\r\n      sound.stop();\r\n      sound.play();\r\n    });\r\n  }\r\n}\r\n","import { qsa } from \"../helpers/helpers.js\";\r\nimport getTemplate from \"../controllers/get-template.js\";\r\nimport Song from \"../models/song.model.js\";\r\nimport { store } from \"../helpers/helpers.js\";\r\n\r\nexport default function addEventsToInstrumentButtons() {\r\n  let instrumentButtons = qsa(\".instrument-group\");\r\n\r\n  instrumentButtons.forEach((button) => {\r\n    button.addEventListener(\"click\", () => {\r\n      console.log(\"click\");\r\n      store(\"template\", storeTemplate());\r\n    });\r\n  });\r\n}\r\n\r\nfunction storeTemplate() {\r\n  let song = getTemplate();\r\n  console.log(new Song(getTemplate()));\r\n  console.log(JSON.stringify(song));\r\n  return JSON.stringify(song);\r\n}\r\n","import timer from \"../controllers/timer.js\";\r\nimport { qs, qsa } from \"../helpers/helpers.js\";\r\nimport addKeyboardControl from \"../controllers/keyboard-controllers.js\";\r\nimport addEventsToInstrumentButtons from \"./instrument-buttons.js\";\r\n\r\nexport default function addControllerEvents() {\r\n  addEvent(\"stop\", stopTimer);\r\n  addEvent(\"play\", startTimer);\r\n  addEvent(\"clear\", clearPads);\r\n  addKeyboardControl();\r\n  addEventsToInstrumentButtons();\r\n}\r\n\r\nfunction stopTimer() {\r\n  timer(\"stop\");\r\n}\r\n\r\nfunction startTimer() {\r\n  timer(\"run\");\r\n}\r\n\r\nfunction clearPads() {\r\n  stopTimer();\r\n  qsa(\".play\").forEach((pad) => {\r\n    pad.classList.remove(\"play\");\r\n  });\r\n}\r\n\r\nfunction addEvent(btnName, cb) {\r\n  let btn = qs(`.${btnName}Btn`);\r\n  btn.addEventListener(\"click\", () => {\r\n    cb();\r\n  });\r\n}\r\n","import { toArray } from \"../helpers/helpers.js\";\r\n\r\nexport default function addEventToKeys() {\r\n  addClassOnClick();\r\n}\r\n\r\nfunction addClassOnClick() {\r\n  let keys = toArray(document.querySelectorAll(\"td\"));\r\n\r\n  keys.forEach((key) => {\r\n    key.addEventListener(\"click\", () => {\r\n      key.classList.toggle(\"play\");\r\n    });\r\n  });\r\n}\r\n","import addControllerEvents from \"./view/buttons.js\";\r\nimport addEventToKeys from \"./view/pads.js\";\r\n\r\nfunction init() {\r\n  addControllerEvents();\r\n  addEventToKeys();\r\n}\r\n\r\ninit();\r\n"]}